local Serde: table = require("@lune/serde")
local Manager: table = require("@env/manager")
local Compression: table = Manager.create()

Compression:define("brotlicompress", function(Data: string): string
  Compression:checktype(1, Data, "string")
  
  local Status: boolean, Compressed: string = Serde.compress("brotli", Data)
  assert(Status, "Failed to compress")
  
  return Compressed
end)

Compression:define("brotlidecompress", function(Data: string): string
  Compression:checktype(1, Data, "string")
  
  local Status: boolean, Compressed: string = Serde.decompress("brotli", Data)
  assert(Status, "Failed to compress")
  
  return Compressed
end)

Compression:define("gzipcompress", function(Data: string): string
  Compression:checktype(1, Data, "string")
  
  local Status: boolean, Compressed: string = Serde.compress("gzip", Data)
  assert(Status, "Failed to compress")
  
  return Compressed
end)

Compression:define("gzipdecompress", function(Data: string): string
  Compression:checktype(1, Data, "string")
  
  local Status: boolean, Compressed: string = Serde.decompress("gzip", Data)
  assert(Status, "Failed to compress")
  
  return Compressed
end)

Compression:define("lz4compress", function(Data: string): string
  Compression:checktype(1, Data, "string")
  
  local Status: boolean, Compressed: string = Serde.compress("lz4", Data)
  assert(Status, "Failed to compress")
  
  return Compressed
end)

Compression:define("lz4decompress", function(Data: string): string
  Compression:checktype(1, Data, "string")
  
  local Status: boolean, Compressed: string = Serde.decompress("lz4", Data)
  assert(Status, "Failed to compress")
  
  return Compressed
end)

Compression:define("zlibcompress", function(Data: string): string
  Compression:checktype(1, Data, "string")
  
  local Status: boolean, Compressed: string = Serde.compress("zlib", Data)
  assert(Status, "Failed to compress")
  
  return Compressed
end)

Compression:define("zlibdecompress", function(Data: string): string
  Compression:checktype(1, Data, "string")
  
  local Status: boolean, Compressed: string = Serde.decompress("zlib", Data)
  assert(Status, "Failed to compress")
  
  return Compressed
end)

Compression:define("zstdcompress", function(Data: string): string
  Compression:checktype(1, Data, "string")
  
  local Status: boolean, Compressed: string = Serde.compress("zstd", Data)
  assert(Status, "Failed to compress")
  
  return Compressed
end)

Compression:define("zstddecompress", function(Data: string): string
  Compression:checktype(1, Data, "string")
  
  local Status: boolean, Compressed: string = Serde.decompress("zstd", Data)
  assert(Status, "Failed to compress")
  
  return Compressed
end)

return Compression.export() :: table